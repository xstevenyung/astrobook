---
import Layout from "../../layouts/Layout.astro";
import {
  Component,
  getComponents,
  importComponent,
} from "../../utils/components";

export function getStaticPaths() {
  return getComponents().map((component) => {
    return { params: { name: component.name }, props: { ...component } };
  });
}

export type Props = Component;

const { name } = Astro.params;
const { extension } = Astro.props;

const Component = await importComponent(name as string, extension);
---

<Layout title={name as string}>
  <main>
    <Component />
  </main>
</Layout>
